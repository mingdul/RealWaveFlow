# WaveFlow 사용자 이용 시나리오 (통합 개선판)  ✅⚠️🛠️⛔



## 1. 사용자는 처음으로 WaveFlow에 가입한다. ✅
* 이메일 인증 및 간단한 회원가입을 마친 후, 사용자는 WaveFlow 대시보드에 진입한다.
* 초기에는 참여 중인 트랙이 없기 때문에 화면 중앙에 빈 상태 안내와 함께 "Create Track" 버튼이 보인다.


## 2. 사용자는 새로운 음악 프로젝트를 시작하기 위해 트랙을 생성한다. ✅
* Create Track 페이지로 이동한 사용자는 트랙에 대한 정보들을 입력한다:
  * 트랙 이름
  * 트랙 설명
  * 장르, BPM, Key Signature
  * 초기 Stem 파일들 업로드
* 생성 버튼을 누르면 Track이 생성되고, 사용자는 해당 트랙의 Base Mix 페이지로 자동 이동된다.


## 3. 사용자는 Base Mix 페이지에서 자신이 방금 업로드한 Stem 목록을 확인한다. ✅
* 이 목록은 Base Mix Version 1이며, 화면 좌측에 DAW 인터페이스처럼 나열되어 있다.
* 동시에 사용자의 이름을 기반으로 Session이 하나 자동 생성되며, 페이지 상단의 탭에 추가된다.
* 사용자 이름이 중복되는 경우 시스템은 고유한 이름(예: myname-1)으로 자동 처리한다. 🛠️


## 4. 사용자는 자신의 작업 공간인 Session 페이지로 이동한다. ✅
* Session 탭을 클릭하면 Session 페이지로 진입한다.
* 기본적으로 이 Session은 Base Mix의 최신 버전을 복사한 Stem Set으로 시작된다.
* 사용자 로컬에서 작업한 결과물(stem 파일)을 Session 페이지 내 Add File 버튼을 통해 업로드할 수 있다.


## 5. 사용자는 새 stem을 추가하거나 기존 stem의 새로운 버전을 등록한다. ✅
* Add File 시점에, 해당 stem을 ‘신규’로 추가할지, 기존 stem의 ‘버전’으로 추가할지를 선택할 수 있다.
* 선택된 stem은 Session의 Stem Set에 반영된다.


## 6. 사용자는 작업 중인 stem들의 히스토리를 관리하고 교체한다. ⚠️
* 특정 stem을 클릭하면 좌측에 슬라이드인 형태의 패널이 열리며,
  * 해당 stem의 과거 버전 리스트가 표시된다.
  * 각 버전을 들어볼 수 있으며, ‘Change’ 버튼을 눌러 현재 Stem Set에 적용할 수 있다.
* 교체 즉시 Session의 상태가 변경되며, 별도의 저장 버튼 없이 반영된다.


## 7. 작업을 마친 사용자는 Drop 버튼을 눌러 Stage로 보내기 전 점검을 시작한다. ⚠️
* Drop 페이지로 이동하면, Session 페이지와 거의 동일한 인터페이스에서 최종 stem 구성 점검이 가능하다.
* 사용자는 각 stem을 재생하거나 교체하면서 최종 구성을 다시 한 번 확인한다.


## 8. 점검을 마친 사용자는 ‘Drop to the Stage’ 버튼을 클릭한다. ⚠️
* 현재 Session의 Stem Set이 Stage에 Drop되고, Reviewer들에게 알림이 전송된다.
* 알림은 이메일 또는 인앱 알림으로 전달되며, 리뷰어는 Stage 페이지로 이동한다.


## 9. 리뷰어는 Stage 페이지에서 새로 Drop된 Stem Set을 평가한다. ⚠️
* 페이지 상단에는 전체 재생 버튼, Base Mix 재생 버튼이 따로 존재한다.
* Stem별 solo/mute 기능도 제공되며, 개별 비교 청취가 가능하다.
* Drop된 Stem Set과 Base Mix는 각각 나란히 표시되어 비교가 용이하다.


## 10. 리뷰어는 평가 후 Drop In(승인) 또는 Drop Out(거절)을 선택한다. ⚠️
* 리뷰어는 승인 시 Drop In, 거절 시 Drop Out 버튼을 클릭할 수 있으며,
* Track의 Leader는 승인 조건을 설정할 수 있다 (예: 과반수 승인, 만장일치 등).
* Drop Out 시 간단한 피드백을 남기는 기능이 권장된다.


## 11. 최종 결정에 따라 결과가 반영된다. ⚠️
* Drop In 시: Drop된 Stem Set이 새로운 Base Mix 버전으로 등록된다 (Version 2 등).
* Drop Out 시: Stem Set은 다시 해당 Session으로 돌아가며, 사용자는 피드백을 참고해 수정할 수 있다.


## 12. 사용자는 협업자를 초대하기로 한다. ⚠️
* Track 페이지 상단의 “협업자 초대” 버튼을 클릭한다.
* 모달 창이 열리며, 초대 대상자의 이메일을 입력한다 (쉼표로 다중 입력 가능).
* 이미 트랙에 참여 중인 이메일은 자동으로 필터링된다.
* 입력 후 링크 생성 버튼을 누르면 24시간 유효한 초대 링크가 생성된다.
* 생성된 링크는 복사하여 직접 전달하거나, 추후 이메일 자동 전송 기능으로 확장할 수 있다.


## 13. 초대받은 사용자는 링크를 클릭해 초대를 수락한다. ⚠️
* 링크 클릭 시 이메일 입력 페이지가 나오며, 초대 시 등록된 이메일과 일치해야만 수락 가능하다.
  * 일치하지 않을 경우 “이메일이 일치하지 않습니다.” 메시지가 뜬다.
  * 24시간이 지난 링크는 만료되며, “링크가 만료되었습니다. 새로운 초대를 요청해주세요.”라는 안내 페이지로 이동된다.
  * 초대 대상자 전원이 초대를 수락하면 해당 링크는 자동으로 만료된다.


## 14. 수락 후, 사용자는 회원가입 또는 로그인한다. ⚠️
* 초대 이메일로 회원가입한 경우, 해당 Track의 Session 페이지로 이동된다.
* 상단에는 “OOO Track에 성공적으로 참여하셨습니다.”라는 안내 메시지가 표시된다.
* 최초 진입 시, 다음 중 하나를 보여줄 수 있다:
  * 간단한 Tooltip 튜토리얼 (skip 가능)
  * Track 개요 페이지 → 이후 Session으로 진입


## 15. 초대받은 협업자는 자신만의 Session을 생성하여 작업을 시작한다. ⚠️
* Base Mix의 최신 버전을 기반으로 한 Stem Set이 자동 생성된다.
* 이후 흐름은 기존 사용자와 동일하게, 업로드 → Drop → Review 과정을 통해 협업을 이어간다.


## 16. 사용자들은 Drop → Review → Base Mix 업데이트 과정을 반복하며 음악을 완성해간다. ⚠️
* Track에는 여러 버전의 Base Mix가 기록되며,
* 각 협업자의 Session은 독립적으로 유지되면서도 Drop을 통해 전체 작업 흐름에 통합된다.


## 부록: 고려 사항 요약
* Drop의 Reviewer는 Leader가 직접 지정하며, 최종 승인 조건 설정도 Leader가 결정
* Drop Out 시 Reviewer가 피드백을 작성할 수 있도록 UI 만들기.
* Revier의 피드백을 협업자가 볼 수 있는 UI도 만들기.